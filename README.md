#### Структура миграций
Схема базы данных и соответствующие миграции определены в XML-файле `changelog.xml`. Каждый шаг миграции хранится внутри блока `<changeSet>`, что гарантирует, что все изменения в базе данных применяются контролируемым и обратимым образом.

#### Описание changelog
- **Создание таблиц**: В changelog описано создание следующих таблиц:
    - `patients`: Хранит информацию о пациентах (имя, пол, дата рождения и адрес).
    - `doctors`: Хранит информацию о врачах (имя).
    - `examinations`: Хранит данные об осмотрах, включая пациента, врача, симптомы, диагноз и назначения.
    - `medicines`: Хранит информацию о лекарствах, таких как название, способ применения, описание и побочные эффекты.
    - `prescriptions`: Связывает лекарства с конкретными осмотрами.
- **Комментарии**: Каждая таблица и столбец снабжены комментариями для повышения читаемости и документирования схемы базы данных.  
- **Права доступа (Гранты)**: Миграции также настраивают права доступа для ролей `medicine_writer` и `medicine_reader`:
    - `medicine_reader`: Имеет права только на чтение таблиц.
    - `medicine_writer`: Может выполнять все операции (создание, чтение, обновление, удаление).

#### Откат изменений
Каждая миграция определена с соответствующей командой `rollback`, что позволяет безопасно отменить изменения в случае необходимости. Это гарантирует, что любые изменения в схеме могут быть откатаны, если возникнут проблемы.

#### Запуск миграций
Чтобы применить миграции к вашей базе данных, используйте следующую команду Liquibase. Она подключится к базе данных PostgreSQL, запущенной на `localhost`, и выполнит миграции, описанные в файле `changelog.xml`.

### Команда для запуска миграций Liquibase:
```bash
liquibase \
  --url=jdbc:postgresql://localhost:5434/db2?sslmode=disable \
  --changelog-file=changelog.xml \
  --username=user2 \
  --password=password2 \
  update
```

#### Объяснение параметров:
- **`--url`**: JDBC URL для подключения к базе данных PostgreSQL (`db2`).
- **`--changelog-file`**: Файл, содержащий инструкции по миграции (`changelog.xml`).
- **`--username`**: Имя пользователя базы данных (`user2`).
- **`--password`**: Пароль к базе данных (`password2`).
- **`update`**: Команда для применения всех ожидающих миграций из файла changelog к целевой базе данных.

### Откат изменений
Если вам нужно отменить последнее изменение, используйте следующую команду:
```bash
liquibase \
  --url=jdbc:postgresql://localhost:5434/db2?sslmode=disable \
  --changelog-file=changelog.xml \
  --username=user2 \
  --password=password2 \
  rollbackCount 1
```

Эта команда откатит последнее примененное изменение. Вы можете изменить значение `rollbackCount` в зависимости от того, сколько изменений вы хотите отменить.